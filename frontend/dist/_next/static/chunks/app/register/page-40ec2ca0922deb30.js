(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[454],{1851:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>c});var t=s(5155),a=s(2115),i=s(6874),n=s.n(i),o=s(5695),l=s(9509);let d=[{id:"elder",name:"Elder",description:"An elderly individual seeking connection and activities"},{id:"caregiver",name:"Caregiver",description:"Someone caring for an elderly individual"},{id:"volunteer",name:"Volunteer",description:"A youth volunteer wanting to connect with elders"}];function c(){let e=(0,o.useRouter)(),[r,s]=(0,a.useState)(1),[i,c]=(0,a.useState)({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",phoneNumber:"",role:"",interests:[],agreeToTerms:!1}),[m,u]=(0,a.useState)(!1),[x,g]=(0,a.useState)(""),h=e=>{let{name:r,value:s,type:t}=e.target;if("checkbox"===t){let t=e.target;"agreeToTerms"===r?c(e=>({...e,[r]:t.checked})):"interest"===r&&(t.checked?c(e=>({...e,interests:[...e.interests,s]})):c(e=>({...e,interests:e.interests.filter(e=>e!==s)})))}else c(e=>({...e,[r]:s}))},f=e=>{if(g(""),1===e){if(!i.firstName.trim())return"First name is required";if(!i.lastName.trim())return"Last name is required";if(!i.email.trim())return"Email is required";if(!/\S+@\S+\.\S+/.test(i.email))return"Email is invalid";if(!i.password)return"Password is required";if(i.password.length<6)return"Password must be at least 6 characters";if(i.password!==i.confirmPassword)return"Passwords do not match"}if(2===e){if(!i.role)return"Please select a role";if(!i.phoneNumber.trim())return"Phone number is required"}if(3===e){if(0===i.interests.length)return"Please select at least one interest";if(!i.agreeToTerms)return"You must agree to the terms and conditions"}return""},b=async s=>{s.preventDefault();let t=f(r);if(t)return void g(t);u(!0),g("");try{let r=await fetch(`${l.env.NEXT_PUBLIC_API_URL||"http://localhost:5000"}/api/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstName:i.firstName,lastName:i.lastName,email:i.email,password:i.password,phoneNumber:i.phoneNumber,role:i.role,interests:i.interests})}),s=await r.json();if(!r.ok)throw Error(s.error||"Failed to register");localStorage.setItem("token",s.token),localStorage.setItem("user",JSON.stringify(s.user)),e.push("/dashboard")}catch(e){g(e.message||"An error occurred during registration")}finally{u(!1)}};return(0,t.jsx)("div",{className:"pt-20",children:(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-accent-1/10 to-white dark:from-accent-2/20 dark:to-accent-1 py-12",children:(0,t.jsx)("div",{className:"container-custom",children:(0,t.jsx)("div",{className:"max-w-2xl mx-auto bg-white dark:bg-accent-1 rounded-xl shadow-lg overflow-hidden",children:(0,t.jsxs)("div",{className:"p-8",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsxs)("h1",{className:"text-2xl font-bold text-foreground",children:["Join"," ",(0,t.jsx)("span",{className:"text-accent-2 dark:text-primary",children:"EternaLink"})]}),(0,t.jsx)("p",{className:"text-foreground/70 mt-2",children:"Create an account to connect with our community"})]}),(0,t.jsx)("div",{className:"flex items-center justify-between mb-8",children:(0,t.jsxs)("div",{className:"w-full flex items-center",children:[(0,t.jsx)("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${r>=1?"bg-primary text-white":"bg-gray-200 dark:bg-gray-700 text-gray-500"}`,children:"1"}),(0,t.jsx)("div",{className:`flex-1 h-1 mx-2 ${r>=2?"bg-primary":"bg-gray-200 dark:bg-gray-700"}`}),(0,t.jsx)("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${r>=2?"bg-primary text-white":"bg-gray-200 dark:bg-gray-700 text-gray-500"}`,children:"2"}),(0,t.jsx)("div",{className:`flex-1 h-1 mx-2 ${r>=3?"bg-primary":"bg-gray-200 dark:bg-gray-700"}`}),(0,t.jsx)("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${r>=3?"bg-primary text-white":"bg-gray-200 dark:bg-gray-700 text-gray-500"}`,children:"3"})]})}),x&&(0,t.jsx)("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-900 text-red-800 dark:text-red-300 rounded-lg p-4 mb-6",children:(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)("svg",{className:"h-5 w-5 text-red-600 dark:text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),(0,t.jsx)("div",{className:"ml-3",children:(0,t.jsx)("p",{className:"text-sm font-medium",children:x})})]})}),(0,t.jsxs)("form",{onSubmit:b,children:[1===r&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"text-lg font-medium text-foreground mb-4",children:"Basic Information"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"firstName",className:"block text-sm font-medium text-foreground mb-1",children:"First Name *"}),(0,t.jsx)("input",{id:"firstName",name:"firstName",type:"text",required:!0,value:i.firstName,onChange:h,className:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-700 focus:outline-none focus:ring-2 focus:ring-primary bg-white dark:bg-accent-1 text-foreground"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"lastName",className:"block text-sm font-medium text-foreground mb-1",children:"Last Name *"}),(0,t.jsx)("input",{id:"lastName",name:"lastName",type:"text",required:!0,value:i.lastName,onChange:h,className:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-700 focus:outline-none focus:ring-2 focus:ring-primary bg-white dark:bg-accent-1 text-foreground"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-foreground mb-1",children:"Email Address *"}),(0,t.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:i.email,onChange:h,className:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-700 focus:outline-none focus:ring-2 focus:ring-primary bg-white dark:bg-accent-1 text-foreground"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-foreground mb-1",children:"Password *"}),(0,t.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,value:i.password,onChange:h,className:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-700 focus:outline-none focus:ring-2 focus:ring-primary bg-white dark:bg-accent-1 text-foreground"}),(0,t.jsx)("p",{className:"mt-1 text-xs text-foreground/60",children:"Must be at least 6 characters"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-foreground mb-1",children:"Confirm Password *"}),(0,t.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,value:i.confirmPassword,onChange:h,className:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-700 focus:outline-none focus:ring-2 focus:ring-primary bg-white dark:bg-accent-1 text-foreground"})]})]}),2===r&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"text-lg font-medium text-foreground mb-4",children:"Role & Contact"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-foreground mb-3",children:"I am a... *"}),(0,t.jsx)("div",{className:"grid grid-cols-1 gap-4",children:d.map(e=>(0,t.jsx)("div",{className:`border rounded-lg p-4 cursor-pointer transition-colors ${i.role===e.id?"border-primary bg-primary/5 dark:bg-primary/10":"border-gray-300 dark:border-gray-700 hover:border-primary"}`,onClick:()=>c(r=>({...r,role:e.id})),children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("input",{type:"radio",name:"role",id:`role-${e.id}`,value:e.id,checked:i.role===e.id,onChange:h,className:"h-4 w-4 text-primary focus:ring-primary border-gray-300"}),(0,t.jsxs)("label",{htmlFor:`role-${e.id}`,className:"ml-3",children:[(0,t.jsx)("span",{className:"block text-sm font-medium text-foreground",children:e.name}),(0,t.jsx)("span",{className:"block text-sm text-foreground/70",children:e.description})]})]})},e.id))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"phoneNumber",className:"block text-sm font-medium text-foreground mb-1",children:"Phone Number *"}),(0,t.jsx)("input",{id:"phoneNumber",name:"phoneNumber",type:"tel",required:!0,value:i.phoneNumber,onChange:h,className:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-700 focus:outline-none focus:ring-2 focus:ring-primary bg-white dark:bg-accent-1 text-foreground",placeholder:"+233 XX XXX XXXX"})]})]}),3===r&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"text-lg font-medium text-foreground mb-4",children:"Interests & Completion"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-foreground mb-3",children:"Select your interests (select at least one) *"}),(0,t.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:["Cooking","Gardening","Reading","Music","Crafts","History","Technology","Health","Languages","Art","Dance","Sports","Travel","Writing","Photography"].map(e=>(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("input",{id:`interest-${e}`,name:"interest",type:"checkbox",value:e,checked:i.interests.includes(e),onChange:h,className:"h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded"}),(0,t.jsx)("label",{htmlFor:`interest-${e}`,className:"ml-2 block text-sm text-foreground/80",children:e})]},e))})]}),(0,t.jsx)("div",{className:"pt-4",children:(0,t.jsxs)("div",{className:"flex items-start",children:[(0,t.jsx)("div",{className:"flex items-center h-5",children:(0,t.jsx)("input",{id:"agreeToTerms",name:"agreeToTerms",type:"checkbox",checked:i.agreeToTerms,onChange:h,className:"h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded"})}),(0,t.jsx)("div",{className:"ml-3 text-sm",children:(0,t.jsxs)("label",{htmlFor:"agreeToTerms",className:"text-foreground/80",children:["I agree to the"," ",(0,t.jsx)(n(),{href:"/terms",className:"text-primary hover:underline",children:"Terms of Service"})," ","and"," ",(0,t.jsx)(n(),{href:"/privacy",className:"text-primary hover:underline",children:"Privacy Policy"})," ","*"]})})]})})]}),(0,t.jsxs)("div",{className:"mt-8 flex justify-between",children:[r>1?(0,t.jsx)("button",{type:"button",onClick:()=>{r>1&&s(e=>e-1)},className:"btn-outline border-gray-300 dark:border-gray-700 text-foreground",children:"Back"}):(0,t.jsx)("div",{}),r<3?(0,t.jsx)("button",{type:"button",onClick:()=>{let e=f(r);if(e)return void g(e);r<3&&s(e=>e+1)},className:"btn-primary",children:"Next"}):(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{type:"button",onClick:()=>{u(!0),setTimeout(()=>{let r={_id:"123456",firstName:i.firstName||"Demo",lastName:i.lastName||"User",email:i.email||"demo@example.com",role:i.role||"elder"};localStorage.setItem("token","demo-token-123456"),localStorage.setItem("user",JSON.stringify(r)),u(!1),e.push("/dashboard")},1e3)},disabled:m,className:"btn-outline border-primary text-primary hover:bg-primary hover:text-white",children:"Demo Register"}),(0,t.jsx)("button",{type:"submit",disabled:m,className:"btn-primary flex items-center justify-center",children:m?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Registering..."]}):"Create Account"})]})]})]}),(0,t.jsx)("div",{className:"mt-8 text-center",children:(0,t.jsxs)("p",{className:"text-sm text-foreground/70",children:["Already have an account?"," ",(0,t.jsx)(n(),{href:"/login",className:"text-primary hover:text-primary-dark font-medium",children:"Sign in"})]})})]})})})})})}},4421:(e,r,s)=>{Promise.resolve().then(s.bind(s,1851))},5695:(e,r,s)=>{"use strict";var t=s(8999);s.o(t,"usePathname")&&s.d(r,{usePathname:function(){return t.usePathname}}),s.o(t,"useRouter")&&s.d(r,{useRouter:function(){return t.useRouter}})}},e=>{var r=r=>e(e.s=r);e.O(0,[874,441,684,358],()=>r(4421)),_N_E=e.O()}]);